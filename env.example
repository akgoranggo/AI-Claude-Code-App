# =============================================================================
# CORE CONFIGURATION
# =============================================================================

# Environment mode (development or production)
NODE_ENV=development

# Server port
PORT=5000

# Session secret (generate with: openssl rand -base64 32)
SESSION_SECRET=your-secret-key-here

# =============================================================================
# DATABASE - STANDARD POSTGRESQL (Replit/Neon)
# =============================================================================

# PostgreSQL connection string
# For Replit: Auto-provided by the platform
# For local/Neon: postgresql://username:password@host:5432/database
DATABASE_URL=

# =============================================================================
# DATABASE - AZURE DATABRICKS LAKEBASE
# =============================================================================

# Enable Lakebase connection mode
USE_LAKEBASE=false

# Lakebase connection details
LAKEBASE_HOSTNAME=your-workspace.azuredatabricks.net
LAKEBASE_DATABASE=databricks_postgres
LAKEBASE_INSTANCE_NAME=your-instance-name

# Database schema name (optional, defaults to app_<username>)
PGSCHEMA=

# =============================================================================
# AZURE AUTHENTICATION (for Lakebase)
# =============================================================================

# Azure AD tenant ID
AZURE_TENANT_ID=your-tenant-id

# Databricks workspace URL
DATABRICKS_WORKSPACE_URL=https://your-workspace.azuredatabricks.net

# Databricks service principal client ID
DATABRICKS_CLIENT_ID=your-client-id

# Azure Key Vault name (for production - stores client secret)
KEY_VAULT_NAME=your-keyvault-name

# =============================================================================
# LOCAL DEVELOPMENT
# =============================================================================

# Your user email (for local dev schema namespacing)
PGUSER=yourname@example.com

# Databricks Personal Access Token (alternative to Service Principal for local dev)
# Generate from: Databricks → Settings → Developer → Access Tokens
DATABRICKS_TOKEN=

# Optional: Use managed identity for Azure production
USE_MANAGED_IDENTITY=false

# =============================================================================
# AUTHENTICATION - REPLIT
# =============================================================================

# Replit OIDC configuration (auto-provided by Replit)
REPL_ID=
ISSUER_URL=https://replit.com/oidc

# =============================================================================
# FILE STORAGE
# =============================================================================

# Google Cloud Storage (for Replit)
GOOGLE_CLOUD_PROJECT=
GOOGLE_CLOUD_STORAGE_BUCKET=

# Azure Blob Storage (for Azure production)
AZURE_STORAGE_ACCOUNT=
AZURE_STORAGE_CONTAINER=

# =============================================================================
# OPTIONAL SERVICES
# =============================================================================

# Application Insights (Azure monitoring)
APPLICATIONINSIGHTS_CONNECTION_STRING=

# =============================================================================
# NOTES
# =============================================================================

# For local development:
# 1. Copy this file to .env.local
# 2. Fill in your DATABASE_URL or Lakebase credentials
# 3. Set SESSION_SECRET to a random string
# 4. If using Lakebase locally, set PGUSER and DATABRICKS_TOKEN

# For Replit deployment:
# 1. Configure secrets in Replit Secrets panel
# 2. DATABASE_URL is auto-provided
# 3. REPL_ID and ISSUER_URL are auto-set

# For Azure production:
# 1. Set USE_LAKEBASE=true
# 2. Configure Azure resources (Key Vault, Databricks)
# 3. Set managed identity or service principal credentials
# 4. Store DATABRICKS_CLIENT_SECRET in Key Vault
